{
  "name": "ChildRegistraton",
  "title": "নবজাতক নিবন্ধন",
  "sms_keyword": "ChildRegistration",
  "default_language": "Bengali",
  "instance": {
    "encounter_type": "Child Registration"
  },
  "version": "201704121204",
  "id_string": "ChildRegistration",
  "type": "survey",
  "children": [
    {
      "type": "hidden",
      "name": "existing_Mauzapara"
    },
    {
      "type": "hidden",
      "name": "existing_Country"
    },
    {
      "type": "hidden",
      "name": "existing_Division"
    },
    {
      "type": "hidden",
      "name": "existing_District"
    },
    {
      "type": "hidden",
      "name": "existing_Upazilla"
    },
    {
      "type": "hidden",
      "name": "existing_Union"
    },
    {
      "type": "hidden",
      "name": "existing_Ward"
    },
    {
      "type": "hidden",
      "name": "existing_Subunit"
    },
    {
      "type": "hidden",
      "name": "existing_Final_Vill"
    },
    {
      "type": "hidden",
      "name": "existing_GPS"
    },
    {
      "instance": {
        "openmrs_entity_id": "location_id",
        "openmrs_entity": "encounter"
      },
      "type": "hidden",
      "name": "existing_location"
    },
    {
      "type": "hidden",
      "name": "existing_Mem_F_Name"
    },
    {
      "type": "hidden",
      "name": "existing_GoB_HHID"
    },
    {
      "type": "hidden",
      "name": "existing_HoH_F_Name"
    },
    {
      "type": "hidden",
      "name": "existing_Spouse_Name"
    },
    {
      "type": "hidden",
      "name": "existing_Couple_No"
    },
    {
      "type": "hidden",
      "name": "existing_ELCO_Mobile_Number"
    },
    {
      "type": "hidden",
      "name": "existing_EDD"
    },
    {
      "type": "hidden",
      "name": "existing_Visit_Date"
    },
    {
      "type": "hidden",
      "name": "mother_relational_ID"
    },
    {
      "type": "hidden",
      "name": "existing_DOO"
    },
    {
      "instance": {
        "openmrs_entity_id": "encounter_date",
        "openmrs_entity": "encounter"
      },
      "type": "today",
      "name": "Today"
    },
    {
      "instance": {
        "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "openmrs_entity": "concept"
      },
      "type": "start",
      "name": "start"
    },
    {
      "instance": {
        "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "openmrs_entity": "concept"
      },
      "type": "end",
      "name": "end"
    },
    {
      "instance": {
        "openmrs_entity_id": "Child Vital Status",
        "openmrs_entity": "person"
      },
      "label": {
        "Bengali": "বাচ্চাকে নিবন্ধন",
        "English": "Child Registration"
      },
      "type": "repeat",
      "children": [
        {
          "name": "Child_Vital_Status",
          "bind": {
            "required": "yes"
          },
          "label": {
            "Bengali": "বাচ্চার ভাইটাল স্ট্যাটাস",
            "English": "Child’s vital status"
          },
          "instance": {
            "openmrs_entity_id": "159926AAAAAAAAAAAAAAAAAAAAAAAAAA",
            "openmrs_entity": "concept"
          },
          "type": "select one",
          "children": [
            {
              "instance": {
                "openmrs_code": "159AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "name": "0",
              "label": {
                "Bengali": "মারা গেছেন",
                "English": "Deceased"
              }
            },
            {
              "instance": {
                "openmrs_code": "160429AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "name": "1",
              "label": {
                "Bengali": "বেঁচে আছেন",
                "English": "Alive"
              }
            }
          ]
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "required": "yes"
          },
          "type": "decimal",
          "name": "Child_Weight",
          "label": {
            "Bengali": "জন্মের সময় ওজন (কেজি)",
            "English": "Child weight after birth (kg)"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "required": "yes"
          },
          "label": {
            "Bengali": "অপরিণত জন্ম (৩৭ সপ্তাহের পূর্বে)",
            "English": "Premature baby (before 37 week)"
          },
          "type": "select one",
          "children": [
            {
              "name": "0",
              "label": {
                "Bengali": "না",
                "English": "No"
              }
            },
            {
              "name": "1",
              "label": {
                "Bengali": "হ্যাঁ",
                "English": "Yes"
              }
            }
          ],
          "name": "Premature_Birth"
        },
        {
          "name": "Member_Gender",
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "required": "yes"
          },
          "label": {
            "Bengali": "বাচ্চার লিঙ্গ",
            "English": "Gender of baby"
          },
          "instance": {
            "openmrs_entity_id": "gender",
            "openmrs_entity": "person"
          },
          "type": "select one",
          "children": [
            {
              "instance": {
                "openmrs_code": "1534AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "name": "1",
              "label": {
                "Bengali": "ছেলে",
                "English": "Male"
              }
            },
            {
              "instance": {
                "openmrs_code": "1535AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
              },
              "name": "2",
              "label": {
                "Bengali": "মেয়ে",
                "English": "Female"
              }
            }
          ]
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "required": "yes"
          },
          "label": {
            "Bengali": "বাচ্চাটির কি কোন নাম আছে?",
            "English": "Does the child have a name?"
          },
          "type": "select one",
          "children": [
            {
              "name": "0",
              "label": {
                "Bengali": "এখনো না",
                "English": "Not yet"
              }
            },
            {
              "name": "1",
              "label": {
                "Bengali": "হ্যাঁ",
                "English": "Yes"
              }
            }
          ],
          "name": "Name_Check"
        },
        {
          "bind": {
            "relevant": "${Name_Check}='1'",
            "required": "yes"
          },
          "type": "text",
          "name": "Child_Name",
          "label": {
            "Bengali": "বাচ্চার নাম",
            "English": "Child Name"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "if((${Name_Check}='0' and ${Member_Gender} ='1'), 'Baby Boy', if(${Name_Check}='1', ${Child_Name}, if((${Name_Check}='0' and ${Member_Gender} ='2'), 'Baby Girl', 'Baby')))"
          },
          "type": "calculate",
          "name": "Mem_F_Name",
          "instance": {
            "openmrs_entity_id": "first_name",
            "openmrs_entity": "person"
          }
        },
        {
          "default": "\".\"",
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "\".\""
          },
          "type": "calculate",
          "name": "Mem_L_Name",
          "instance": {
            "openmrs_entity_id": "last_name",
            "openmrs_entity": "person"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "format-date(date(${existing_DOO}), '%Y-%n-%e')"
          },
          "type": "calculate",
          "name": "Member_Birth_Date"
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "int((${Today} - ${Member_Birth_Date}) div 365.25)"
          },
          "type": "calculate",
          "name": "Calc_Age"
        },
        {
          "bind": {
            "readonly": "yes",
            "relevant": "selected(${Child_Vital_Status},'1')"
          },
          "type": "note",
          "name": "Member_Age",
          "label": {
            "Bengali": "বয়স ${Calc_Age} মাস",
            "English": "Age ${Calc_Age} month"
          }
        },
        {
          "control": {
            "appearance": "numbers"
          },
          "name": "Mem_BRID",
          "hint": {
            "Bengali": "জন্ম নিবন্ধন সনদপত্রের সরকারী নম্বর যেভাবে দেওয়া আছে সেভাবেই ইনপুট দিন।",
            "English": "Please input the Government ID as displayed on the birth certificate"
          },
          "bind": {
            "required": "yes",
            "relevant": "selected(${Child_Vital_Status},'1')",
            "constraint": "regex(., '^(?!0{17})[0-9]{17}$')"
          },
          "label": {
            "Bengali": "জন্ম নিবন্ধন সনদ নং-",
            "English": "Birth Registration ID Number"
          },
          "type": "text"
        },
        {
          "control": {
            "appearance": "numbers"
          },
          "name": "Retype_Mem_BRID",
          "hint": {
            "Bengali": "জন্ম নিবন্ধন নম্বরটি পূনরায় প্রবেশ করান",
            "English": "Please re-input the Birth Registration Number"
          },
          "bind": {
            "required": "yes",
            "relevant": "selected(${Child_Vital_Status},'1')",
            "constraint": ".=${Mem_BRID}"
          },
          "label": {
            "Bengali": "জন্ম নিবন্ধন সনদ নম্বরটি পুনরায় লিখুন",
            "English": "Re-Type Birth Registration ID Number"
          },
          "instance": {
            "openmrs_entity_id": "Birth Registration ID",
            "openmrs_entity": "person_identifier"
          },
          "type": "text"
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${Retype_Mem_BRID}"
          },
          "type": "calculate",
          "name": "Mem_BRID_Concept",
          "instance": {
            "openmrs_entity_id": "163083AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
            "openmrs_entity": "concept"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_GoB_HHID}"
          },
          "type": "calculate",
          "name": "Member_GoB_HHID",
          "instance": {
            "openmrs_entity_id": "GoB_HHID",
            "openmrs_entity": "person_attribute"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Visit_Date}"
          },
          "type": "calculate",
          "name": "Member_Reg_Date"
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_ELCO_Mobile_Number}"
          },
          "type": "calculate",
          "name": "Mem_Mobile_Number"
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Country}"
          },
          "type": "calculate",
          "name": "Mem_Country",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "country",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Division}"
          },
          "type": "calculate",
          "name": "Mem_Division",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "stateProvince",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_District}"
          },
          "type": "calculate",
          "name": "Mem_District",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "countyDistrict",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Upazilla}"
          },
          "type": "calculate",
          "name": "Mem_Upazilla",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "cityVillage",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Union}"
          },
          "type": "calculate",
          "name": "Mem_Union",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "address1",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Ward}"
          },
          "type": "calculate",
          "name": "Mem_Ward",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "address2",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Subunit}"
          },
          "type": "calculate",
          "name": "Mem_Subunit",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "address3",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Mauzapara}"
          },
          "type": "calculate",
          "name": "Mem_Mauzapara",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "address4",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_Final_Vill}"
          },
          "type": "calculate",
          "name": "Mem_Village_Name"
        },
        {
          "bind": {
            "relevant": "selected(${Child_Vital_Status},'1')",
            "calculate": "${existing_GPS}"
          },
          "type": "calculate",
          "name": "Mem_GPS",
          "instance": {
            "openmrs_entity_parent": "usual_residence",
            "openmrs_entity_id": "geopoint",
            "openmrs_entity": "person_address"
          }
        },
        {
          "bind": {
            "calculate": "${mother_relational_ID}"
          },
          "type": "calculate",
          "name": "mother_UUID"
        },
        {
          "bind": {
            "calculate": "${existing_Mem_F_Name}"
          },
          "type": "calculate",
          "name": "Child_Mother"
        },
        {
          "bind": {
            "calculate": "${existing_Spouse_Name}"
          },
          "type": "calculate",
          "name": "Child_Father"
        },
        {
          "type": "note",
          "name": "add_child",
          "label": {
            "Bengali": "যদি জীবিত বাচ্চার সংখ্যা একের বেশি হয়, তাহলে '+' অপশনটি নির্বাচন করুন এবং একই প্রক্রিয়ায় পরবর্তী বাচ্চাকে নিবন্ধন করুন",
            "English": "If there were any additional children born of this pregnancy, select the \"+\" below to register the next child's vital status."
          }
        },
        {
          "bind": {
            "calculate": "\"1\""
          },
          "type": "calculate",
          "name": "Child"
        },
        {
          "bind": {
            "calculate": "if(${Child}='1','1','0')"
          },
          "type": "calculate",
          "name": "Nutrition"
        }
      ],
      "name": "Reg_Newborn"
    },
    {
      "control": {
        "bodyless": true
      },
      "type": "group",
      "children": [
        {
          "bind": {
            "readonly": "true()",
            "calculate": "concat('uuid:', uuid())"
          },
          "type": "calculate",
          "name": "instanceID"
        }
      ],
      "name": "meta"
    }
  ]
}